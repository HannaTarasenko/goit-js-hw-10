{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst timeInput = document.querySelector('#datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\nconst dayBlock = document.querySelector('[data-days]');\nconst hoursBlock = document.querySelector('[data-hours]');\nconst minutesBlock = document.querySelector('[data-minutes]');\nconst secondsBlock = document.querySelector('[data-seconds]');\n\nlet userSelectedDate;\nlet timeInterval;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        userSelectedDate = selectedDates[0];\n        if (userSelectedDate < new Date()) {\n            startBtn.setAttribute('disabled', '');\n            startBtn.classList.remove('right-date');\n            iziToast.error({\n                message: 'Please choose a date in the future',\n                backgroundColor: '#ef4040',\n                messageColor: '#fff',\n                messageSize: '16',\n                imageWidth: 302,\n                close: true,\n                closeOnEscape: true,\n                closeOnClick: true,\n                progressBar: true,\n                progressBarColor: '#b51b1b',\n                transitionIn: 'flipInX',\n                transitionOut: 'flipOutX',\n                position: 'topRight',\n                iconUrl: imageUrl,\n                iconColor: '#FAFAFB',\n            });\n        } else {\n            startBtn.removeAttribute('disabled');\n            startBtn.classList.add('valid-date');\n        }\n        console.log(userSelectedDate);\n    }\n};\n\nflatpickr(timeInput, options);\n\nstartBtn.addEventListener('click', () => {\n    if (timeInterval) clearInterval(timeInterval);\n    startBtn.setAttribute('disabled', '');\n    startBtn.classList.remove('valid-date');\n    timeInput.setAttribute('disabled', '');\n\n    timeInterval = setInterval(() => {\n        const currentTime = new Date();\n        const ms = userSelectedDate.getTime() - currentTime.getTime();\n\n        if (ms < 0) {\n            clearInterval(timeInterval);\n            timeInput.removeAttribute('disabled');\n            return;\n        }\n\n        const second = 1000;\n        const minute = second * 60;\n        const hour = minute * 60;\n        const day = hour * 24;\n\n        const days = Math.floor(ms / day);\n        const hours = Math.floor((ms % day) / hour);\n        const minutes = Math.floor((ms % hour) / minute);\n        const seconds = Math.floor((ms % minute) / second);\n\n        dayBlock.textContent = String(days).padStart(2, '0');\n        hoursBlock.textContent = String(hours).padStart(2, '0');\n        minutesBlock.textContent = String(minutes).padStart(2, '0');\n        secondsBlock.textContent = String(seconds).padStart(2, '0');\n    }, 1000);\n});\n"],"names":["timeInput","startBtn","dayBlock","hoursBlock","minutesBlock","secondsBlock","userSelectedDate","timeInterval","options","selectedDates","iziToast","flatpickr","currentTime","ms","second","minute","hour","day","days","hours","minutes","seconds"],"mappings":"+IAMA,MAAMA,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAE5D,IAAIC,EACAC,EAEJ,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBH,EAAmBG,EAAc,CAAC,EAC9BH,EAAmB,IAAI,MACvBL,EAAS,aAAa,WAAY,EAAE,EACpCA,EAAS,UAAU,OAAO,YAAY,EACtCS,EAAS,MAAM,CACX,QAAS,qCACT,gBAAiB,UACjB,aAAc,OACd,YAAa,KACb,WAAY,IACZ,MAAO,GACP,cAAe,GACf,aAAc,GACd,YAAa,GACb,iBAAkB,UAClB,aAAc,UACd,cAAe,WACf,SAAU,WACV,QAAS,SACT,UAAW,SAC3B,CAAa,IAEDT,EAAS,gBAAgB,UAAU,EACnCA,EAAS,UAAU,IAAI,YAAY,GAEvC,QAAQ,IAAIK,CAAgB,CAC/B,CACL,EAEAK,EAAUX,EAAWQ,CAAO,EAE5BP,EAAS,iBAAiB,QAAS,IAAM,CACjCM,GAAc,cAAcA,CAAY,EAC5CN,EAAS,aAAa,WAAY,EAAE,EACpCA,EAAS,UAAU,OAAO,YAAY,EACtCD,EAAU,aAAa,WAAY,EAAE,EAErCO,EAAe,YAAY,IAAM,CAC7B,MAAMK,EAAc,IAAI,KAClBC,EAAKP,EAAiB,QAAS,EAAGM,EAAY,QAAO,EAE3D,GAAIC,EAAK,EAAG,CACR,cAAcN,CAAY,EAC1BP,EAAU,gBAAgB,UAAU,EACpC,MACH,CAED,MAAMc,EAAS,IACTC,EAASD,EAAS,GAClBE,EAAOD,EAAS,GAChBE,EAAMD,EAAO,GAEbE,EAAO,KAAK,MAAML,EAAKI,CAAG,EAC1BE,EAAQ,KAAK,MAAON,EAAKI,EAAOD,CAAI,EACpCI,EAAU,KAAK,MAAOP,EAAKG,EAAQD,CAAM,EACzCM,EAAU,KAAK,MAAOR,EAAKE,EAAUD,CAAM,EAEjDZ,EAAS,YAAc,OAAOgB,CAAI,EAAE,SAAS,EAAG,GAAG,EACnDf,EAAW,YAAc,OAAOgB,CAAK,EAAE,SAAS,EAAG,GAAG,EACtDf,EAAa,YAAc,OAAOgB,CAAO,EAAE,SAAS,EAAG,GAAG,EAC1Df,EAAa,YAAc,OAAOgB,CAAO,EAAE,SAAS,EAAG,GAAG,CAC7D,EAAE,GAAI,CACX,CAAC"}